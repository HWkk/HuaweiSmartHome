## 华为智能家居故障检测与定位

#### 各个package的简要介绍：

**data：**从设备获取数据后的统一数据格式，包括设备所处模式以及属性向量值。

**graphviz：**一个实时演示状态自动机模型的画图工具。

**homeassistant：**与HomeAssistant相关的一些方法与脚本，其中包括获取设备状态、调用设备操作的脚本以及系统调用这些脚本的方法等。

**specification：**最初版本中想通过人为定义specification的方式来对自动机进行构建，现在这种方法已被摒弃。

**stateautomaton：**描述状态自动机的一些组件，包括图中的一些结构化信息、图的构建过程、图的检测定位过程等。

**test：**程序入口以及一些定期调用相关服务的线程实现。

**utils：**一些常量值、定时器与时间操作等。

**log4j.properties：**一些log信息的相关配置。



#### 简要使用方法：

1. 智能设备与安装HomeAssistant的主机处于同一个局域网，通过手机APP查看智能设备的ip地址，将设备的ip与其他信息配置到主机HomeAssistant对应目录下的configuration.yaml文件中；
2. 配置log4j.properties的路径；
3. 根据实际需要配置一些常量值，包括调用操作的时间间隔、获取属性的时间间隔、当前的设备实体名称等；
4. 进行一些预处理，调用get_all_services和get_all_attributes，配置当前设备的一些属性、操作等信息；
5. 运行程序，实时观察对应路径下生成的模型图。

